---
title: "Review steve code - Week 11"
description: "For Week 11 we are reviewing Steve code to make it presentable"
author:
  - name: Renan Monteiro Barbosa
    url: https://github.com/renanmb
    affiliation: Master of Data Science Program @ The University of West Florida (UWF)
    # affiliation-url: https://ucsb-meds.github.io/
# date: 10-24-2022
categories: [report, week 11, renan]
# citation:
#   url: https://samanthacsik.github.io/posts/2022-10-24-my-blog-post/
image: images/spongebob-imagination.jpg
draft: false
bibliography: references.bib
link-citations: true
---

## Introduction

Reproducing Steve code in **baseFirthFlic1116.qmd** and **RFirth11116asfactor_allbutflac.R** using the dataset [Stroke Prediction Dataset](https://www.kaggle.com/datasets/fedesoriano/stroke-prediction-dataset).

## 1. Setup and Data Loading

First, we need to load the required R packages and the dataset. The dataset is publicly available on Kaggle and was originally created by McKinsey & Company @fedesorianoStrokePredictionDatasetKaggle.

### 1.1 Load Libraries

```{r}
#| code-fold: true
#| label: install-packages
#| message: false
#| warning: false

# options(repos = c(CRAN = "https://cloud.r-project.org"))

packages <- c("dplyr", "car", "ResourceSelection", "caret", "pROC",  "logistf", "Hmisc", "rcompanion", "ggplot2", "summarytools", "tidyverse", "knitr")
# install.packages(packages)
```

We can use this to check installed packages:

```{{r}}
renv::activate("website")
"yardstick" %in% rownames(installed.packages())
```

```{r setup}
#| code-fold: true
#| message: false
#| warning: false

lapply(packages, library, character.only = TRUE)

# Set seed for reproducibility
set.seed(123)
```

Might need to deal with the conflicts later:


### 1.2 Load Data

We will load the dataset and handle the data given the exploration done in Week5. The id column is unnecessary for prediction as well there are only 2 genders significant for prediction.

Below will be loading the stroke.csv and performing necessary changes to the dataset and loading into the DataFrame: stroke1

```{r}
#| code-fold: true
#| output: false
find_git_root <- function(start = getwd()) {
  path <- normalizePath(start, winslash = "/", mustWork = TRUE)
  while (path != dirname(path)) {
    if (dir.exists(file.path(path, ".git"))) return(path)
    path <- dirname(path)
  }
  stop("No .git directory found â€” are you inside a Git repository?")
}

repo_root <- find_git_root()
datasets_path <- file.path(repo_root, "datasets")

# Reading the datafile in (the same one you got for us Renan)#
steve_dataset_path <- file.path(datasets_path, "steve/stroke.csv")
stroke1 = read_csv(steve_dataset_path, show_col_types = FALSE)
```

### References

::: {#refs}
:::